# YouTube検索・分析ツール 要件定義＆詳細設計（MVP版）

## 1. サービス概要
YouTube Data API v3 を利用し、直近3ヶ月以内に開設された急成長チャンネルを検索・分析するWebアプリケーション。  
BYOK（Bring Your Own Key）方式でユーザー自身がAPIキーを設定。  
**toC（個人）**と**toB（商用）**で同一コア機能だが、利用権・サポート・出力形式で差別化し価格差を正当化。

---

## 2. ユースケース
- **toC**: 個人クリエイターが競合分析やネタ探しに利用
- **toB**: マーケティング担当者や制作会社が商用提案資料作成に利用

---

## 3. 主要機能（MVP）
1. **キーワード検索**（最大5件）
2. **条件フィルタリング**
   - 最低登録者数
   - 最低総再生回数
   - チャンネル開設日（最大直近の6ヶ月以内）
3. **分析情報表示**
   - チャンネル名・サムネイル
   - 登録者数・総再生回数
   - 開設日
4. **最適化機構**
   - 段階的フィルタリング（最大20件詳細分析）
   - 24hキャッシュ（IndexedDB / LocalStorage）
   - 並列処理＋レート制限
   - プログレッシブ検索（「もっと見る」で追加10件）
   - リアルタイムクォータ監視
5. **データ出力**
   - toC: ブラウザ画面・画像カード
   - toB: CSVエクスポート、ウォーターマーク解除
6. **法的要件**
   - 利用規約・プライバシーポリシー表示
   - データ削除機能（LocalStorage・IndexedDB）
   - YouTubeブランドガイドライン準拠

---

## 4. UX演出設計
### 4.1 検索開始時
- **プログレッシブ表示**: 上位5件を即表示し、残りを順次追加
- **検索アニメーション**: 上部にYouTube風ロードバー
- **フェーズ表示**: 「関連チャンネル抽出中…」「タグ収集中…」

### 4.2 待機中の視覚効果
- **シマーエフェクト**でカードの枠だけ先に表示
- API取得完了時にコンテンツ挿入

### 4.3 結果表示後
- 「もっと見る」ボタンで段階的追加
- 無料枠ユーザーには「Proでさらに20件」アップセル文言
- キャッシュ利用時は「過去の検索条件を即時表示」→体感速度UP

---

## 5. クォータ制限設計
### 5.1 無料枠（目安: 3,000クォータ/日）
- 検索ページ数: 1〜2
- 詳細分析チャンネル数: 最大10
- 動画タグ取得数/CH: 最大3本
- 消費目安: 約2,500クォータ/回
- 利用回数: 1回/日

### 5.2 有料枠（目安: 10,000クォータ/日）
- 検索ページ数: 最大5
- 詳細分析チャンネル数: 30〜50
- 動画タグ取得数/CH: 最大10本
- 消費目安: 約8,000クォータ/回
- 利用回数: 3〜5回/日

---

## 6. プラン別フェンス設計
| 項目 | toC (Pro) | toB (Business) |
|------|-----------|---------------|
| 利用権 | 個人利用のみ／商用不可 | 商用可・顧客提案可 |
| サポート | メール48h以内 | メール24h以内＋オンボーディング10分 |
| 出力 | 画面表示＋画像カード | CSV出力＋ウォーターマーク解除 |
| 保存セット | 最大5件 | 最大10件 |
| 請求対応 | なし | 見積書・請求書・NDA対応 |

---

## 7. 技術スタック
- **フロント**: React + Bootstrap
- **API通信**: axios
- **データ保存**: LocalStorage / IndexedDB
- **ビルド/デプロイ**: Vercel
- **最適化**: 段階的フィルタリング・キャッシュ戦略・並列処理＋レート制限

---

## 8. データ構造
### IndexedDB
- `channel_basic`: 基本情報（24hキャッシュ）
- `channel_keywords`: キーワード情報（24hキャッシュ）
- `channel_video_tags`: 動画タグ情報（24hキャッシュ）

### LocalStorage
- `apiKey`: ユーザーのAPIキー
- `agreedToTerms`: 規約同意フラグ
- `userSettings`: UI設定

---

## 9. 成功指標（KPI）
- **検索完了時間**: 平均30秒以内
- **クォータ効率**: 従来比77%以上削減
- **キャッシュ利用率**: 60%以上
- **利用継続率**: β版ユーザーの30%以上が週1回以上利用
- **CVR**: LPから無料利用登録10%以上

---

## 10. MVPスコープ
- 検索・フィルタ・詳細分析（段階的）
- クォータ監視UI
- プログレッシブ結果表示
- 無料枠/有料枠のフェンス機能
- 法的必須項目の実装

---

## 11. 非MVP（将来追加）
- ログイン機能
- 分散キャッシュ
- 機械学習によるフィルタリング精度向上
- 定期レポート配信機能
